/**
 * \file
 * Functions and types for CRC checks.
 *
 * Generated on Sat Dec 24 12:31:27 2022
 * by pycrc v0.10.0, https://pycrc.org
 * using the configuration:
 *  - Width         = 16
 *  - Poly          = 0xd175
 *  - XorIn         = 0x0000
 *  - ReflectIn     = False
 *  - XorOut        = 0x0000
 *  - ReflectOut    = False
 *  - Algorithm     = table-driven
 */
#include "crc.h" /* include the header file generated with pycrc */
#include <stdint.h>
#include <stdlib.h>

/**
 * Static table used for the table_driven implementation.
 */
static const crc_t crc_table[256] = {
    0x0000, 0xd175, 0x739f, 0xa2ea, 0xe73e, 0x364b, 0x94a1, 0x45d4, 0x1f09, 0xce7c, 0x6c96, 0xbde3,
    0xf837, 0x2942, 0x8ba8, 0x5add, 0x3e12, 0xef67, 0x4d8d, 0x9cf8, 0xd92c, 0x0859, 0xaab3, 0x7bc6,
    0x211b, 0xf06e, 0x5284, 0x83f1, 0xc625, 0x1750, 0xb5ba, 0x64cf, 0x7c24, 0xad51, 0x0fbb, 0xdece,
    0x9b1a, 0x4a6f, 0xe885, 0x39f0, 0x632d, 0xb258, 0x10b2, 0xc1c7, 0x8413, 0x5566, 0xf78c, 0x26f9,
    0x4236, 0x9343, 0x31a9, 0xe0dc, 0xa508, 0x747d, 0xd697, 0x07e2, 0x5d3f, 0x8c4a, 0x2ea0, 0xffd5,
    0xba01, 0x6b74, 0xc99e, 0x18eb, 0xf848, 0x293d, 0x8bd7, 0x5aa2, 0x1f76, 0xce03, 0x6ce9, 0xbd9c,
    0xe741, 0x3634, 0x94de, 0x45ab, 0x007f, 0xd10a, 0x73e0, 0xa295, 0xc65a, 0x172f, 0xb5c5, 0x64b0,
    0x2164, 0xf011, 0x52fb, 0x838e, 0xd953, 0x0826, 0xaacc, 0x7bb9, 0x3e6d, 0xef18, 0x4df2, 0x9c87,
    0x846c, 0x5519, 0xf7f3, 0x2686, 0x6352, 0xb227, 0x10cd, 0xc1b8, 0x9b65, 0x4a10, 0xe8fa, 0x398f,
    0x7c5b, 0xad2e, 0x0fc4, 0xdeb1, 0xba7e, 0x6b0b, 0xc9e1, 0x1894, 0x5d40, 0x8c35, 0x2edf, 0xffaa,
    0xa577, 0x7402, 0xd6e8, 0x079d, 0x4249, 0x933c, 0x31d6, 0xe0a3, 0x21e5, 0xf090, 0x527a, 0x830f,
    0xc6db, 0x17ae, 0xb544, 0x6431, 0x3eec, 0xef99, 0x4d73, 0x9c06, 0xd9d2, 0x08a7, 0xaa4d, 0x7b38,
    0x1ff7, 0xce82, 0x6c68, 0xbd1d, 0xf8c9, 0x29bc, 0x8b56, 0x5a23, 0x00fe, 0xd18b, 0x7361, 0xa214,
    0xe7c0, 0x36b5, 0x945f, 0x452a, 0x5dc1, 0x8cb4, 0x2e5e, 0xff2b, 0xbaff, 0x6b8a, 0xc960, 0x1815,
    0x42c8, 0x93bd, 0x3157, 0xe022, 0xa5f6, 0x7483, 0xd669, 0x071c, 0x63d3, 0xb2a6, 0x104c, 0xc139,
    0x84ed, 0x5598, 0xf772, 0x2607, 0x7cda, 0xadaf, 0x0f45, 0xde30, 0x9be4, 0x4a91, 0xe87b, 0x390e,
    0xd9ad, 0x08d8, 0xaa32, 0x7b47, 0x3e93, 0xefe6, 0x4d0c, 0x9c79, 0xc6a4, 0x17d1, 0xb53b, 0x644e,
    0x219a, 0xf0ef, 0x5205, 0x8370, 0xe7bf, 0x36ca, 0x9420, 0x4555, 0x0081, 0xd1f4, 0x731e, 0xa26b,
    0xf8b6, 0x29c3, 0x8b29, 0x5a5c, 0x1f88, 0xcefd, 0x6c17, 0xbd62, 0xa589, 0x74fc, 0xd616, 0x0763,
    0x42b7, 0x93c2, 0x3128, 0xe05d, 0xba80, 0x6bf5, 0xc91f, 0x186a, 0x5dbe, 0x8ccb, 0x2e21, 0xff54,
    0x9b9b, 0x4aee, 0xe804, 0x3971, 0x7ca5, 0xadd0, 0x0f3a, 0xde4f, 0x8492, 0x55e7, 0xf70d, 0x2678,
    0x63ac, 0xb2d9, 0x1033, 0xc146};

crc_t crc_update(crc_t crc, const void * data, size_t data_len) {
    const unsigned char * d = (const unsigned char *)data;

    while (data_len--) {
        unsigned int tbl_idx;
        tbl_idx = ((crc >> 8) ^ *d) & 0xff;
        crc = (crc_table[tbl_idx] ^ (crc << 8)) & 0xffff;
        d++;
    }
    return crc & 0xffff;
}
